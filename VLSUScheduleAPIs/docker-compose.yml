version: "3"

services:
  APIsGateWays:
    image: apisgateways
    build:
      context: ./APIsGateWays
      dockerfile: Dockerfile
    ports:
      - 7000:80
    volumes:
      - ./APIsGateWays/bin/pub:/app
    container_name: APIsGateWays
    # depends_on:
    #   - sql.data

  # AuthAPI:
  #   image: authpi
  #   build:
  #     context: ./AuthAPI
  #     dockerfile: Dockerfile
  #   ports:
  #     - 8000:80
  #   command: dotnet ef update database
  #   volumes:
  #     - ./AuthAPI/bin/pub/:/app
  #   container_name: AuthAPI
  #   depends_on:
  #     - sql.data
  # #- rabbitmq

  # VLSUScheduleAPI:
  #   image: vlsuscheduleapis
  #   build:
  #     context: ./VLSUScheduleAPIs
  #     dockerfile: Dockerfile
  #   ports:
  #     - 8001:80
  #   command: dotnet ef update database
  #   volumes:
  #     - ./VLSUScheduleAPIs/bin/pub/:/app
  #   container_name: VLSUScheduleAPIs
  #   depends_on:
  #     - sql.data
  # #- rabbitmq

  # IntegrationAPI:
  #   image: integrationapi
  #   build:
  #     context: ./IntegrationAPI
  #     dockerfile: Dockerfile
  #   ports:
  #     - 8002:80
  #   volumes:
  #     - ./IntegrationAPI/bin/pub/:/app
  #   container_name: IntegrationAPI
  #   depends_on:
  #     - sql.data
  #   # - rabbitmq

  # sql.data:
  #   image: mssql-linux
  #   build:
  #     context: ./Database
  #     dockerfile: Dockerfile
  #   ports:
  #     - "5433:1433"
  #   container_name: mssql-linux
  # rabbitmq:
  #   image: rabbitmq:3-management
  #   ports:
  #     - "15672:15672"
  #   container_name: rabbitmq
